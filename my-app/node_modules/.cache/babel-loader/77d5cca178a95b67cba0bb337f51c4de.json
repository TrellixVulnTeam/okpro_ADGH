{"ast":null,"code":"var _jsxFileName = \"C:\\\\Acer D\\\\Study\\\\Khoahoc-Reactjs-KTCITY\\\\Khoahoc-Reactjs-KTCITY\\\\REACT\\\\my-app\\\\src\\\\context\\\\gallery-context.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useContext, useState } from \"react\";\nimport useLocalStorage from \"../hooks/useLocalStorage\"; //Bài 194: Thực hành GalleryContext - Setup\n//Bài 200: Thực hành Gallery Context - usehooks\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst fakeData = [{\n  id: 1,\n  url: \"https://images.unsplash.com/photo-1635652430656-27f9a95e5b72?ixlib=rb-1.2.1&raw_url=true&q=60&fm=jpg&crop=entropy&cs=tinysrgb&ixid=MnwxMjA3fDB8MHxwaG90by1yZWxhdGVkfDZ8fHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=500\",\n  isLike: false\n}, {\n  id: 2,\n  url: \"https://images.unsplash.com/photo-1556195332-95503f664ced?ixlib=rb-1.2.1&raw_url=true&q=80&fm=jpg&crop=entropy&cs=tinysrgb&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=736\",\n  isLike: false\n}, {\n  id: 3,\n  url: \"https://images.unsplash.com/photo-1652487346667-b89061ca7b40?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=80&raw_url=true&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=765\",\n  isLike: false\n}, {\n  id: 4,\n  url: \"https://images.unsplash.com/photo-1652820862882-7bac8e92c668?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHw5fHx8ZW58MHx8fHw%3D&auto=format&fit=crop&w=500\",\n  isLike: false\n}, {\n  id: 5,\n  url: \"https://images.unsplash.com/photo-1644982654131-79f434ac0c6c?ixlib=rb-1.2.1&ixid=MnwxMjA3fDF8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80\",\n  isLike: false\n}, {\n  id: 6,\n  url: \"https://images.unsplash.com/photo-1600489000300-e590b381ce48?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1yZWxhdGVkfDR8fHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60\",\n  isLike: false\n}, {\n  id: 7,\n  url: \"https://images.unsplash.com/photo-1652794878130-d7274e14e244?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwyM3x8fGVufDB8fHx8&auto=format&fit=crop&w=500\",\n  isLike: false\n}, {\n  id: 8,\n  url: \"https://images.unsplash.com/photo-1616060373717-e67ac26f19b1?ixlib=rb-1.2.1&raw_url=true&q=60&fm=jpg&crop=entropy&cs=tinysrgb&ixid=MnwxMjA3fDB8MHxwaG90by1yZWxhdGVkfDd8fHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=500\",\n  isLike: false\n}];\nconst GalleryContext = /*#__PURE__*/createContext();\n\nconst GalleryProvider = props => {\n  _s();\n\n  const {\n    storedValue,\n    setValue\n  } = useLocalStorage(\"photos\", fakeData);\n  const {\n    storedValue: sotredCart,\n    setValue: setStoredCart\n  } = useLocalStorage(\"cartItems\", []);\n  const [photos, setPhotos] = useState(storedValue);\n  const [cartItems, setCartItems] = useState([storedValue]);\n  const [isLikeList, setIsLikeList] = useState(sotredCart);\n\n  const toggleIsLike = photosId => {\n    const updatedArray = photos.map(photo => {\n      //map photos\n      // điều kiện duyệt nếu có id của photo == photosId\n      if (photo.id === photosId) {\n        //thì trả về mảng mới là photo có isLike = !photo,isLike\n        return { ...photo,\n          isLike: !photo.isLike\n        };\n      }\n\n      return photo;\n    });\n    setPhotos(updatedArray);\n    setValue(updatedArray);\n  };\n\n  const addToCard = newItem => {\n    // cập nhật lại state giỏ hàng {cartItems}\n    setCartItems(prevItems => {\n      const isExited = prevItems.some(item => item.id === newItem.id); // console.log(isExited);\n\n      if (isExited) return [...prevItems];\n      return [...prevItems, newItem];\n    });\n  };\n\n  const removeFromCart = photoId => {\n    setCartItems(prevItems => prevItems.filter(item => item.id !== photoId));\n  };\n\n  const value = {\n    photos,\n    cartItems,\n    isLikeList,\n    setPhotos,\n    setCartItems,\n    setIsLikeList,\n    toggleIsLike,\n    addToCard,\n    removeFromCart\n  };\n  return /*#__PURE__*/_jsxDEV(GalleryContext.Provider, {\n    value: value,\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n};\n\n_s(GalleryProvider, \"htW0lEMUNYoSqMi5OKbLlmKs+gw=\", false, function () {\n  return [useLocalStorage, useLocalStorage];\n});\n\n_c = GalleryProvider;\n\nconst useGallery = () => {\n  _s2();\n\n  const context = useContext(GalleryContext);\n  if (typeof context === \"undefined\") throw new Error(\"useGallery must be used within a GalleryProvider\");\n  return context;\n};\n\n_s2(useGallery, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n\nexport { useGallery, GalleryProvider };\n\nvar _c;\n\n$RefreshReg$(_c, \"GalleryProvider\");","map":{"version":3,"sources":["C:/Acer D/Study/Khoahoc-Reactjs-KTCITY/Khoahoc-Reactjs-KTCITY/REACT/my-app/src/context/gallery-context.js"],"names":["createContext","useContext","useState","useLocalStorage","fakeData","id","url","isLike","GalleryContext","GalleryProvider","props","storedValue","setValue","sotredCart","setStoredCart","photos","setPhotos","cartItems","setCartItems","isLikeList","setIsLikeList","toggleIsLike","photosId","updatedArray","map","photo","addToCard","newItem","prevItems","isExited","some","item","removeFromCart","photoId","filter","value","useGallery","context","Error"],"mappings":"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","sourcesContent":["import { createContext, useContext, useState } from \"react\";\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\n//Bài 194: Thực hành GalleryContext - Setup\r\n//Bài 200: Thực hành Gallery Context - usehooks\r\nconst fakeData = [\r\n  {\r\n    id: 1,\r\n    url: \"https://images.unsplash.com/photo-1635652430656-27f9a95e5b72?ixlib=rb-1.2.1&raw_url=true&q=60&fm=jpg&crop=entropy&cs=tinysrgb&ixid=MnwxMjA3fDB8MHxwaG90by1yZWxhdGVkfDZ8fHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=500\",\r\n    isLike: false,\r\n  },\r\n  {\r\n    id: 2,\r\n    url: \"https://images.unsplash.com/photo-1556195332-95503f664ced?ixlib=rb-1.2.1&raw_url=true&q=80&fm=jpg&crop=entropy&cs=tinysrgb&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=736\",\r\n    isLike: false,\r\n  },\r\n  {\r\n    id: 3,\r\n    url: \"https://images.unsplash.com/photo-1652487346667-b89061ca7b40?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=80&raw_url=true&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=765\",\r\n    isLike: false,\r\n  },\r\n  {\r\n    id: 4,\r\n    url: \"https://images.unsplash.com/photo-1652820862882-7bac8e92c668?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHw5fHx8ZW58MHx8fHw%3D&auto=format&fit=crop&w=500\",\r\n    isLike: false,\r\n  },\r\n  {\r\n    id: 5,\r\n    url: \"https://images.unsplash.com/photo-1644982654131-79f434ac0c6c?ixlib=rb-1.2.1&ixid=MnwxMjA3fDF8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80\",\r\n    isLike: false,\r\n  },\r\n  {\r\n    id: 6,\r\n    url: \"https://images.unsplash.com/photo-1600489000300-e590b381ce48?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1yZWxhdGVkfDR8fHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60\",\r\n    isLike: false,\r\n  },\r\n  {\r\n    id: 7,\r\n    url: \"https://images.unsplash.com/photo-1652794878130-d7274e14e244?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwyM3x8fGVufDB8fHx8&auto=format&fit=crop&w=500\",\r\n    isLike: false,\r\n  },\r\n  {\r\n    id: 8,\r\n    url: \"https://images.unsplash.com/photo-1616060373717-e67ac26f19b1?ixlib=rb-1.2.1&raw_url=true&q=60&fm=jpg&crop=entropy&cs=tinysrgb&ixid=MnwxMjA3fDB8MHxwaG90by1yZWxhdGVkfDd8fHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=500\",\r\n    isLike: false,\r\n  },\r\n];\r\n\r\nconst GalleryContext = createContext();\r\n\r\nconst GalleryProvider = (props) => {\r\n  const { storedValue, setValue } = useLocalStorage(\"photos\", fakeData);\r\n  const { storedValue: sotredCart, setValue: setStoredCart } = useLocalStorage(\r\n    \"cartItems\",\r\n    []\r\n  );\r\n  const [photos, setPhotos] = useState(storedValue);\r\n  const [cartItems, setCartItems] = useState([storedValue]);\r\n  const [isLikeList, setIsLikeList] = useState(sotredCart);\r\n\r\n  const toggleIsLike = (photosId) => {\r\n    const updatedArray = photos.map((photo) => {\r\n      //map photos\r\n      // điều kiện duyệt nếu có id của photo == photosId\r\n      if (photo.id === photosId) {\r\n        //thì trả về mảng mới là photo có isLike = !photo,isLike\r\n        return { ...photo, isLike: !photo.isLike };\r\n      }\r\n      return photo;\r\n    });\r\n    setPhotos(updatedArray);\r\n    setValue(updatedArray);\r\n  };\r\n\r\n  const addToCard = (newItem) => {\r\n    // cập nhật lại state giỏ hàng {cartItems}\r\n    setCartItems((prevItems) => {\r\n      const isExited = prevItems.some((item) => item.id === newItem.id);\r\n      // console.log(isExited);\r\n      if (isExited) return [...prevItems];\r\n      return [...prevItems, newItem];\r\n    });\r\n  };\r\n  const removeFromCart = (photoId) => {\r\n    setCartItems((prevItems) =>\r\n      prevItems.filter((item) => item.id !== photoId)\r\n    );\r\n  };\r\n  const value = {\r\n    photos,\r\n    cartItems,\r\n    isLikeList,\r\n    setPhotos,\r\n    setCartItems,\r\n    setIsLikeList,\r\n    toggleIsLike,\r\n    addToCard,\r\n    removeFromCart,\r\n  };\r\n  return (\r\n    <GalleryContext.Provider value={value} {...props}></GalleryContext.Provider>\r\n  );\r\n};\r\n\r\nconst useGallery = () => {\r\n  const context = useContext(GalleryContext);\r\n  if (typeof context === \"undefined\")\r\n    throw new Error(\"useGallery must be used within a GalleryProvider\");\r\n  return context;\r\n};\r\n\r\nexport { useGallery, GalleryProvider };\r\n"]},"metadata":{},"sourceType":"module"}